<h1>Listing unread notifications</h1>

<table>
  <tr>
    <th>Subscription</th>
  </tr>

<% @notifications_unread.each do |notification| %>
  <tr>
<% if notification.subscription %>
    <td>"<%= link_to notification.subscription.page.title, '/projects/'+notification.subscription.page.project.identifier+'/wiki/'+notification.subscription.page.title %>" from project <%= notification.subscription.page.project.name+ ' ' + notification.description + ' ' + time_ago_in_words(notification.created_at) %> ago</td>
<% else %>
    <td><%= notification.description + ' ' + time_ago_in_words(notification.created_at) %> ago</td>
<% end %>
    <td><%=  link_to 'Mark as Read', notification_path(notification, :notification => {:read => true} ), :method => :put %></td>
  </tr>
<% end %>
</table>

<h1>Listing read notifications</h1>
<table>
  <tr>
    <th>Subscription</th>
  </tr>

<% @notifications_read.each do |notification| %>
  <tr>
<% if notification.subscription %>
    <td>"<%= link_to notification.subscription.page.title, '/projects/'+notification.subscription.page.project.identifier+'/wiki/'+notification.subscription.page.title %>" from project <%= notification.subscription.page.project.name+ ' ' + notification.description + ' ' + time_ago_in_words(notification.created_at) %> ago</td>
<% else %>
    <td><%= notification.description + ' ' + time_ago_in_words(notification.created_at) %> ago</td>
<% end %>
  </tr>
<% end %>
</table>

